root@d026e9724:/var/www/UrlCampaignTracker# ^C
root@d026e9724:/var/www/UrlCampaignTracker# versions
Available versions:
-----------------
Current active version: 2

Version 1:
  Description: Initial version after database migration to PostgreSQL
  Created: Sun May 11 08:04:40 AM UTC 2025

Version 2:
  Description: 2
  Created: Sun May 11 08:13:35 AM UTC 2025

root@d026e9724:/var/www/UrlCampaignTracker# psql -U neondb_owner -d neondb
Password for user neondb_owner:
psql (16.8 (Ubuntu 16.8-0ubuntu0.24.04.1))
Type "help" for help.

neondb=# ALTER TABLE urls ADD COLUMN IF NOT EXISTS budget_calculated BOOLEAN DEFAULT false;
ALTER TABLE url_click_logs ADD COLUMN IF NOT EXISTS budget_calculated BOOLEAN DEFAULT false;
ALTER TABLE campaigns ADD COLUMN IF NOT EXISTS budget_calculated BOOLEAN DEFAULT false;
\q
ALTER TABLE
ALTER TABLE
ALTER TABLE
root@d026e9724:/var/www/UrlCampaignTracker# cd /var/www/UrlCampaignTracker
pm2 delete all
./start.sh
[PM2][WARN] No process found
Building the client...

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.19 building for production...
transforming (3) src/main.tsxBrowserslist: browsers data (caniuse-lite) is 7 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
‚úì 3484 modules transformed.
../dist/public/index.html                     2.02 kB ‚îÇ gzip:   0.86 kB
../dist/public/assets/index-E7MJdXL_.css     67.72 kB ‚îÇ gzip:  11.77 kB
../dist/public/assets/index-yGu0Nllm.js   1,349.11 kB ‚îÇ gzip: 372.75 kB

(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
‚úì built in 4.32s

  dist/index.js  633.8kb

‚ö° Done in 48ms
Copying dist to server/public...
Starting URL Campaign Tracker...
URL Budget Manager initialized
TrafficStar API Service initialized
[youtube-api] INFO: YouTube API Service initialized
üîç DEBUG: Loaded saved config with autoDeleteMinutes: 2
üîç DEBUG: Gmail reader initialized with autoDeleteMinutes: 2
5:25:22 PM [gmail-reader] Loaded 0 previously processed email IDs
TrafficStar Reports API test routes registered
Server monitoring initialized - collecting stats every minute
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at doListen (node:net:2139:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 5000
}

Node.js v20.19.1
root@d026e9724:/var/www/UrlCampaignTracker#
